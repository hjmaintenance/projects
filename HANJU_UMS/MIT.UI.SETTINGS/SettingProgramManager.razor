@using MIT.Razor.Pages.Component.Grid
@using MIT.Razor.Pages.Component.Grid.RepositoryItem
@inherits SettingProgramManagerBase


<DxFormLayout CssClass="w-100">
    @if (!IsMainMenuUIMode)
    {
        <DxFormLayoutGroup CssClass="card-search-layout-group" Decoration="FormLayoutGroupDecoration.None" ColSpanSm="12">
            <DxFormLayoutItem ColSpanSm="1">
                <DxButton RenderStyle="ButtonRenderStyle.Primary"
                          RenderStyleMode="ButtonRenderStyleMode.Contained"
                          IconCssClass="main-toolbar-btn-icon-search"
                          Text="조회"
                          Click="btn_Search"
                          CssClass="w-100 main-toolbar-btn" />
            </DxFormLayoutItem>
            <DxFormLayoutItem ColSpanSm="1">
                <DxButton RenderStyle="ButtonRenderStyle.Primary"
                          RenderStyleMode="ButtonRenderStyleMode.Contained"
                          IconCssClass="main-toolbar-btn-icon-save"
                          Text="저장"
                          Click="btn_Save"
                          CssClass="w-100 main-toolbar-btn" />
            </DxFormLayoutItem>
            <DxFormLayoutItem ColSpanSm="1">
                <DxButton RenderStyle="ButtonRenderStyle.Primary"
                          RenderStyleMode="ButtonRenderStyleMode.Contained"
                          IconCssClass="main-toolbar-btn-icon-delete"
                          Text="삭제"
                          Click="btn_Delete"
                          CssClass="w-100 main-toolbar-btn" />
            </DxFormLayoutItem>
        </DxFormLayoutGroup>
    }
    
    <DxFormLayoutGroup Caption="조회조건" Decoration="FormLayoutGroupDecoration.Card" ColSpanSm="12">
        <DxFormLayoutItem Caption="프로그램ID" ColSpanSm="3">
            <DxTextBox @bind-Text="@ProgramID" />
        </DxFormLayoutItem>
        <DxFormLayoutItem Caption="프로그램명" ColSpanSm="3">
            <DxTextBox @bind-Text="@ProgramName" />
        </DxFormLayoutItem>
    </DxFormLayoutGroup>
    <DxFormLayoutGroup Caption="프로그램목록" Decoration="FormLayoutGroupDecoration.Card" ColSpanSm="12">
        <DxFormLayoutItem ColSpanSm="12">
            <CommonGrid @ref="Grd1"
                        IsCheckBox="true"
                        ControlHeight="@(IsMainMenuUIMode ? 400 : 310)"

                        SearchQueryName="SP_SETTING_PROGRAM_SELECT"
                        InputSearchParameter="OnInputSearchParameter"

                        IsShowToolBar="true"
                        IsAddButtonEnabled="true"
                        IsSearchButtonEnabled="false"
                        IsSaveButtonEnabled="false"
                        IsDeleteButtonEnabled="false"
                        CssClass="setting-program-grid">
                <DataColumnsTemplate> 
                    <DxGridDataColumn FieldName="PGM_ID" 
                                      Caption="프로그램ID" 
                                      Width="120px" 
                                      TextAlignment="GridTextAlignment.Center" 
                                      CaptionAlignment="GridTextAlignment.Center">
                        <CellDisplayTemplate Context="context2">
                            <RepositoryItemTextBox CellContext="context2" IsPrimaryKey="true" />
                        </CellDisplayTemplate>
                    </DxGridDataColumn>
                    <DxGridDataColumn FieldName="PGM_NAME" 
                                      Caption="프로그램명" 
                                      Width="150px" 
                                      TextAlignment="GridTextAlignment.Center" 
                                      CaptionAlignment="GridTextAlignment.Center">
                        <CellDisplayTemplate Context="context2">
                            <RepositoryItemTextBox CellContext="context2" />
                        </CellDisplayTemplate>
                    </DxGridDataColumn>
                    <DxGridDataColumn FieldName="PGM_NAME_ENG" Caption="프로그램 영문명" Width="140px" TextAlignment="GridTextAlignment.Center" CaptionAlignment="GridTextAlignment.Center">
                        <CellDisplayTemplate Context="context2">
                            <RepositoryItemTextBox CellContext="context2" />
                        </CellDisplayTemplate>
                    </DxGridDataColumn>
                    <DxGridDataColumn FieldName="PGM_CLASS" Caption="프로그램 클래스" Width="300px" TextAlignment="GridTextAlignment.Left" CaptionAlignment="GridTextAlignment.Center">
                        <CellDisplayTemplate Context="context2">
                            <RepositoryItemTextBox CellContext="context2" />
                        </CellDisplayTemplate>
                    </DxGridDataColumn>
                    <DxGridDataColumn FieldName="PGM_PATH" Caption="프로그램 경로" Width="180px" TextAlignment="GridTextAlignment.Center" CaptionAlignment="GridTextAlignment.Center">
                        <CellDisplayTemplate Context="context2">
                            <RepositoryItemTextBox CellContext="context2" />
                        </CellDisplayTemplate>
                    </DxGridDataColumn>
                    <DxGridDataColumn FieldName="REMARK" Caption="비고" Width="" TextAlignment="GridTextAlignment.Center" CaptionAlignment="GridTextAlignment.Center">
                        <CellDisplayTemplate Context="context2">
                            <RepositoryItemTextBox CellContext="context2" />
                        </CellDisplayTemplate>
                    </DxGridDataColumn>

                </DataColumnsTemplate>
            </CommonGrid>
        </DxFormLayoutItem>
    </DxFormLayoutGroup>
</DxFormLayout>

<style>

  /*   .setting-program {
        border: solid;
    } */

    /* .setting-program-grid {
        height: 337px;
    } */

    .card-search-layout-group {
        margin: 20px 0 0 0;
    }

    .main-toolbar-btn-icon-search,
    .main-toolbar-btn-icon-save,
    .main-toolbar-btn-icon-delete,
    .main-toolbar-btn-icon-print,
    .main-toolbar-btn-icon-close,
    .main-toolbar-btn-icon-fav {
        background-size: auto;
        -webkit-mask-repeat: round;
        background-position: center center;
        height: 16px;
        width: 16px;
    }
</style>